# План реализации (актуализация: 2026-02-15)

## 1. Текущая базовая точка
- Реализованный функциональный scope зафиксирован в `docs/product-spec.md`.
- Техническая декомпозиция и границы модулей зафиксированы в `docs/architecture-overview.md`.
- Этот документ хранит только план следующих поставок и приоритеты.

## 2. Приоритеты следующего этапа

### P1 — стабильность и покрытие
1. Добавить целевые integration/e2e сценарии по критическим потокам:
   - login,
   - timeline drag/update,
   - department/role color persistence,
   - project member + assignment consistency.
2. Укрепить smoke-check для CI (минимальный сценарий создания проекта и назначения).

### P2 — консолидация модели планирования
1. Зафиксировать и документировать жизненный цикл `ProjectMember` vs `ProjectAssignment`.
2. Привести все UI-flow к единому правилу работы с member-пулом.
3. Добавить недостающие backend валидации и согласованные коды ошибок.

### P3 — календарь и расчетные метрики
1. Довести в UI календарные эффекты план/факт до стабильного пользовательского сценария.
2. Проверить и выровнять расчет `actual/lost` часов на краевых датах и отпусках.
3. Добавить диагностические метрики синка календаря в операционные проверки.

### P4 — продуктовые улучшения после стабилизации
1. Отчеты/экспорт (CSV/Excel) по загрузке и стоимости.
2. Улучшение фильтрации/поиска на Team и Timeline.
3. Подготовка API-контрактов для будущих интеграций.

## 3. Принципы поставки
- Двигаемся короткими вертикальными инкрементами (API + UI + docs + smoke).
- Любое изменение схемы БД сопровождается Prisma migration.
- Документация (`README` + `docs/*`) обновляется в том же инкременте.

## 4. Связанные документы
- API-контракты: `docs/api-reference.md`.
- Процедурный чеклист инкремента: `docs/workflow-checklist.md`.