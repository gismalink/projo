# Спецификация продукта (MVP)

## 1. Назначение
`Projo Planner` — инструмент для годового планирования проектов и загрузки команды с минимальным входом, быстрым стартом и прозрачной структурой данных.

## 2. Пользовательская ценность
- Быстрое создание и визуализация плана по проектам и сотрудникам.
- Гибкое управление ролями, отделами, грейдами и отпускными периодами.
- Настройка шаблонов состава проекта и контроль недостающих ролей в таймлайне.
- Визуальный контроль загрузки и узких мест на годовом таймлайне.
- Единая точка для справочников и календарных ограничений.

## 3. Границы MVP
- Только базовые CRUD-операции для справочников и планирования.
- Нет интеграций с внешними системами, сложных отчетов и timesheet-факта.
- Нет ML/прогнозирования, мультивалютности, multi-calendar.

## 4. Критерии приемки
1. Пользователь может войти (bootstrap-admin), создать/редактировать роли, отделы, сотрудников, проекты, назначения, отпуска.
2. Пользователь может создавать/редактировать шаблоны состава проекта и привязывать шаблон к проекту.
3. На Timeline отображаются ошибки по недостающим ролям относительно выбранного шаблона проекта.
4. Вкладки Team, Settings, Timeline, Guide работают по назначению (см. UI).
5. Визуально отображаются фильтры, группировки, загрузка, bench, drag/resize.
6. Все действия проходят через API с RBAC и валидацией.
7. Проект разворачивается и верифицируется по инструкции из README.

## 5. Правила модели участия в проекте
- В проекте различаются две сущности:
	- membership (`ProjectMember`) — сотрудник включен в состав проекта,
	- assignment (`ProjectAssignment`) — сотруднику назначен период работ и нагрузка.
- Допустимые состояния на текущем этапе:
	- только `member` (сотрудник в пуле без активного назначения),
	- `member + assignment` (сотрудник в пуле и участвует в плане),
	- удален из пула (`member` удален), при этом assignment может сохраняться до явной корректировки.
- Создание/обновление assignment должно гарантировать, что сотрудник присутствует в пуле проекта (если нужно, membership создается автоматически).
- Удаление assignment не должно автоматически удалять membership.
- Удаление membership не должно автоматически удалять assignment (поведение фиксируется как текущий контракт).
- При сдвиге дат проекта смещение assignment выполняется отдельным действием Timeline и не считается неявным побочным эффектом CRUD проекта.

## 6. Связанные документы
- API-методы и контракты: `docs/api-reference.md`
- Архитектура и технические детали: `docs/architecture-overview.md`
- План развития и приоритеты: `docs/implementation-roadmap.md`